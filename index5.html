<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖转 爪 爪专 - 拽转 住驻专</title>
    <style>
        :root {
            --primary-purple: #6c5ce7;
            --bg-gradient: linear-gradient(135deg, #a8c0ff 0%, #f1e1ff 100%);
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background: var(--bg-gradient);
            min-height: 100vh;
            margin: 0; 
            padding: 10px; 
            direction: rtl;
        }

        .container { 
            max-width: 800px; 
            margin: 0 auto;
            background: white; 
            border-radius: 15px; 
            padding: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        h1 { text-align: center; font-size: 24px; color: var(--primary-purple); margin-bottom: 5px; }
        .credit { text-align: center; font-size: 14px; margin-bottom: 20px; color: #555; font-weight: bold; }

        .bank-section { 
            background: #fff9c4; 
            border: 2px solid #f1c40f; 
            padding: 15px; 
            border-radius: 12px; 
            margin-bottom: 20px;
        }

        .bank-title { font-weight: bold; color: #d35400; font-size: 17px; margin-bottom: 10px; }
        
        .word-bank { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
            gap: 8px; 
        }
        
        .word-item { 
            background: white; 
            border: 1px solid #333; 
            padding: 6px; 
            border-radius: 6px; 
            font-size: 14px; 
            display: flex;
            align-items: center;
        }

        .word-num { 
            background: #6c5ce7; 
            color: white; 
            width: 22px; 
            height: 22px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            border-radius: 50%; 
            margin-left: 8px; 
            font-weight: bold;
            font-size: 12px;
            flex-shrink: 0;
        }

        #message-area { text-align: center; min-height: 40px; margin-bottom: 10px; }
        .success-msg { color: #27ae60; font-weight: bold; font-size: 28px; display: none; }

        .particles-table { 
            width: 100%; 
            border-collapse: collapse; 
            border: 2px solid #333;
        }

        .particles-table th, .particles-table td { 
            border: 1px solid #333; 
            padding: 10px 5px; 
            text-align: center; 
            font-size: 14px;
        }

        .particles-table th { background: #e0d7ff; }
        .feature-col { background: #f1f2f6; font-weight: bold; width: 25%; }

        .input-cell { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 5px;
        }

        input { 
            width: 35px; 
            height: 30px; 
            text-align: center; 
            font-size: 16px; 
            font-weight: bold; 
            border: 2px solid #6c5ce7; 
            border-radius: 5px;
        }

        input:focus { background: #fff9c4; outline: none; border-color: #d35400; }

        .answer-text { 
            font-size: 13px; 
            font-weight: bold; 
            color: #27ae60; 
            min-height: 15px;
        }

        .btn-reset { 
            display: block; margin: 20px auto 0; padding: 10px 30px; 
            cursor: pointer; background: #6c5ce7; color: white; border: none; 
            border-radius: 20px; font-weight: bold; 
        }
    </style>
</head>
<body>

<div class="container">
    <h1> 拽拽: 爪 爪专</h1>
    <div class="credit">注专:  专拽 专砖</div>

    <div class="bank-section">
        <div class="bank-title">转 转 住驻专  转 转 :</div>
        <div class="word-bank" id="wordBank"></div>
    </div>

    <div id="message-area">
        <div id="final-success" class="success-msg"> ! </div>
    </div>

    <table class="particles-table">
        <thead>
            <tr>
                <th class="feature-col">驻</th>
                <th></th>
                <th></th>
                <th>爪拽 砖</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            </tbody>
    </table>

    <button class="btn-reset" onclick="location.reload()">驻住 砖</button>
</div>

<script>
    const data = [
        { feature: "转 砖", answers: ["砖 ", "拽", "拽 "] },
        { feature: "住专", answers: [" 住专 ", " 住专 爪专", " 住专"] },
        { feature: "住 转注", answers: ["转转转, 住转, 注转拽", "转转转 住转", "转转转"] },
        { feature: "转专 转注", answers: ["转注 驻砖转  专", "拽 驻转 拽转", "转注 拽"] },
        { feature: "专拽", answers: [" ", "拽", "拽 "] }
    ];

    // 爪专转 拽  注 住驻专
    const allWords = data.flatMap(d => d.answers);
    const shuffledWords = [...allWords].sort(() => Math.random() - 0.5);
    const bankMap = {}; // 驻 爪转 拽住 驻 住驻专

    const bankContainer = document.getElementById('wordBank');
    shuffledWords.forEach((word, index) => {
        const num = index + 1;
        bankMap[num] = word;
        bankContainer.innerHTML += `
            <div class="word-item">
                <span class="word-num">${num}</span>
                <span>${word}</span>
            </div>`;
    });

    // 转 
    const tableBody = document.getElementById('tableBody');
    data.forEach((row, rowIndex) => {
        let htmlRow = `<tr><th class="feature-col">${row.feature}</th>`;
        row.answers.forEach((correctAnswer, colIndex) => {
            htmlRow += `
                <td>
                    <div class="input-cell">
                        <input type="number" min="1" max="15" 
                               oninput="checkAnswer(this, '${correctAnswer}')" 
                               id="input-${rowIndex}-${colIndex}">
                        <div class="answer-text" id="text-${rowIndex}-${colIndex}"></div>
                    </div>
                </td>`;
        });
        htmlRow += `</tr>`;
        tableBody.innerHTML += htmlRow;
    });

    function checkAnswer(input, correctAnswer) {
        const val = input.value;
        const displayDiv = document.getElementById(input.id.replace('input', 'text'));
        
        if (bankMap[val] === correctAnswer) {
            displayDiv.innerText = correctAnswer;
            input.style.borderColor = "#27ae60";
            input.disabled = true;
            checkWin();
        } else if (val !== "") {
            displayDiv.innerText = "";
            input.style.borderColor = "#e74c3c";
        }
    }

    function checkWin() {
        const inputs = document.querySelectorAll('input');
        const allCorrect = Array.from(inputs).every(i => i.disabled);
        if (allCorrect) {
            document.getElementById('final-success').style.display = 'block';
        }
    }
</script>
</body>
</html>
